<!DOCTYPE html>
<html lang="en">
<head>
  <title>Webinterface with Bootstrap</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- LEAFLET MAP -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" />
<!-- LEAFLET MAP -->
  
<!-- BOOTSTRAP -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<!-- BOOTSTRAP -->

<!-- BOOTSTRAP DATEPICKER -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/js/bootstrap-datepicker.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.4.1/css/bootstrap-datepicker3.css"/>
<!-- BOOTSTRAP DATEPICKER -->

<!-- LAYOUT -->
  <link rel="stylesheet" href="css/stylesheet.css"/>
  <link rel="stylesheet" href="css/base.css"/>
<!-- LAYOUT -->
  
<!-- JAVASCRIPT -->
  <script src="js/javascript.js"></script>
<!-- JAVASCRIPT -->
  
<!-- LOCAL LIBRARIES -->
  <link rel="stylesheet" href="libraries/leaflet.fullscreen-master/Control.FullScreen.css"/>
  <link rel="stylesheet" href="libraries/Leaflet.Coordinates-master/src/Control.Coordinates.css"/>
  <link rel="stylesheet" href="libraries/Leaflet.Coordinates-master/src/Control.Coordinates.ie.css"/>
<!-- LOCAL LIBRARIES -->
</head>
<body>
<!--
  <object type="text/html" data="Modal.html"></object>
-->

  <div class="container-fluid">
    <div class="row">
      <div class="col-sm-8">
	    
      <!-- LEAFLET MAP -->
        <div class="row">
          <div id='mapContainer' class="border"></div>
          <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"></script>
          <script src="libraries/leaflet.fullscreen-master/Control.FullScreen.js"></script>
          <script src="libraries/Leaflet.Coordinates-master/src/Control.Coordinates.js"></script>
          <script src="libraries/Leaflet.Coordinates-master/src/util/NumberFormatter.js"></script>
          <script>
            var map = createLeafletMap('mapContainer',
                                       'http://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png',
                                       { attribution: 'Positron', minZoom: 1, maxZoom: 17 },
                                       getInitialCoordinates(),
                                       getInitialZoomLevel(),
                                       isFullscreenAvailable(),
                                       isMouseCoordinatesVisible());

            var style = {
                "color": "#7cc136",
                "weight": 5,
                "opacity": 0.65
            };
            
            /*
              drawPoint(map, getInitialCoordinates(), style);
              drawLine(map, [getInitialCoordinates(), [50, 7], [53, 10]], style);
              drawPolygon(map, [[47.25, 6], [54.925, 6], [54.925, 15], [47.25, 15]], style);
            */

            initializeGrid(map);

            var feature = {
              "type": "Feature",
              "properties": {
                  "name": "Coors Field",
                  "amenity": "Baseball Stadium",
                  "popupContent": "This is where the Rockies play!"
              },
              "geometry": {
                  "type": "Point",
                  "coordinates": switchLatLon(getInitialCoordinates())
              }
            };

            displayGeoJSONFeature(map, feature, style);
          </script>
        </div>
      <!-- LEAFLET MAP -->
	  
      </div>
      <div class="col-sm-4">
	  
      <!-- UPPER OPTIONPANEL -->
        <div id='upperOptionpanelContainer'>
      
        <!-- EXPORT -->
          <div class="row">
            <div class="col-sm text-center">	
              <button class="btn btn-primary wide" data-toggle="modal" data-target="#exportModal">Export</button>

            <!-- EXPORT MODAL -->
              <div  id="exportModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="exportModal" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title"><b>Export</b></h1>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
          
                    <!-- TIMEFRAME -->
                      <div class="row modal-margin-bottom">
                        <div class="col-sm-6 col-offset-sm-1">
              
                          <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                            <input type="text" class="form-control" placeholder="From" id="exportFrom-datepicker"/>
                          </div>

                        </div>
                        <div class="col-sm-6 col-offset-sm-1">
                    
                          <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-calendar"></i></span>
                            <input type="text" class="form-control" placeholder="To" id="exportTo-datepicker"/>
                          </div>
                
                        </div>
                      </div>
                    <!-- TIMEFRAME -->
            
                    <!-- SELECTED CLUSTERS -->
                      <div class="row modal-margin">
                        <div class="col-sm-12 col-offset-sm-1">
                      
                        <!-- CLUSTER DROPDOWN LIST -->
                          <div class="input-group">
                            <div class="input-group-btn">
                              <button tabindex="-1" data-toggle="dropdown" class="btn btn-default dropdown-toggle" type="button">
                                <span class="caret"></span>
                              </button>
                  
                              <ul id='selectedCluster-dropdown' role="menu" class="dropdown-menu">
                                <li><a href="#">
                                  <input type="checkbox"><span class="lbl">All Clusters</span>
                                </a></li>
                                <li class="divider"></li>
                                <li><a href="#">
                                  <input type="checkbox">
                                  <span class="lbl">#0001</span>
                                </a></li>
                                <li><a href="#">
                                  <input type="checkbox">
                                  <span class="lbl">#0002</span>
                                </a></li>
                                <li><a href="#">
                                    <input type="checkbox">
                                  <span class="lbl">#0003</span>
                                </a></li>
                                <li><a href="#">
                                  <input type="checkbox">
                                  <span class="lbl">#0004</span>
                                </a></li>
                                <li><a href="#">
                                  <input type="checkbox">
                                  <span class="lbl">#0005</span>
                                </a></li>
                                <li><a href="#">
                                  <input type="checkbox">
                                  <span class="lbl">#0006</span>
                                </a></li>
                                <li><a href="#">
                                  <input type="checkbox">
                                  <span class="lbl">#0007</span>
                                </a></li>
                                <li><a href="#">
                                  <input type="checkbox">
                                  <span class="lbl">#0008</span>
                                </a></li>
                              </ul>
                            </div>
                      
                            <input id='selectedCluster-inputForm' type="text" placeholder="Clusters" class="form-control">
                          </div>
                        <!-- CLUSTER DROPDOWN LIST -->
                        
                        </div>
                      </div>
                    <!-- SELECTED CLUSTERS -->
              
                    <!-- SENSORTYPES -->
                      <div class="row modal-margin">
                        <div class="col-sm-12 col-offset-sm-1">
                          <form>
                            <div class="form-group">
                              <div class="col-sm-4">
                                <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
                                  <label class="form-check-label" for="inlineCheckbox1">temperature</label>
                                </div>
                              </div>
                              <div class="col-sm-4">
                                <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
                                  <label class="form-check-label" for="inlineCheckbox2">humidity</label>
                                </div>
                              </div>
                              <div class="col-sm-4">
                                <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option3">
                                  <label class="form-check-label" for="inlineCheckbox3">pollution</label>
                                </div>
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>
                    <!-- SENSORTYPES -->
                      
                    <!-- FAVORITES -->
                      <div class="row modal-margin-top">
                        <div class="col-sm-12">
                          <div class="btn-group btn-block centered">
                            <button class="btn btn-primary wide">Favorites</button>
                            <button class="btn btn-primary slim">
                              <span class="glyphicon glyphicon-star"></span>
                            </button>
                          </div>
                        </div>
                      </div>
                    <!-- FAVORITES -->
                      
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                      <button type="button" class="btn btn-primary">Apply</button>
                    </div>
                  </div>
                </div>
              </div>
            <!-- EXPORT MODAL -->
          
            </div>
          </div>
        <!-- EXPORT -->
        
        <!-- SENSORTYPE -->
          <div class="row">
            <div class="col-sm text-center">
              <button class="btn btn-primary wide" data-toggle="modal" data-target="#sensortypeModal">Sensortype</button>
          
            <!-- SENSORTYPE MODAL -->
              <div  id="sensortypeModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="sensortypeModal" aria-hidden="true">
                <div class="modal-dialog modal-dialog-centered" role="document">
                  <div class="modal-content">
                    <div class="modal-header">
                      <h1 class="modal-title"><b>Sensortype</b></h1>
                      <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                      </button>
                    </div>
                    <div class="modal-body">
            
                    <!-- SENSORTYPES -->
                      <div class="row">
                        <div class="col-sm-12 col-offset-sm-1">
                          <form>
                            <div class="form-group">
                              <div class="col-sm-4">
                                <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="inlineCheckbox1" value="option1">
                                  <label class="form-check-label" for="inlineCheckbox1">temperature</label>
                                </div>
                              </div>
                              <div class="col-sm-4">
                                <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="inlineCheckbox2" value="option2">
                                  <label class="form-check-label" for="inlineCheckbox2">humidity</label>
                                </div>
                              </div>
                              <div class="col-sm-4">
                                <div class="form-check">
                                  <input class="form-check-input" type="checkbox" id="inlineCheckbox3" value="option3">
                                  <label class="form-check-label" for="inlineCheckbox3">pollution</label>
                                </div>
                              </div>
                            </div>
                          </form>
                        </div>
                      </div>
                    <!-- SENSORTYPES -->
          
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                      <button type="button" class="btn btn-primary">Apply</button>
                    </div>
                  </div>
                </div>
              </div>
            <!-- SENSORTYPE MODAL -->
          
            </div>
          </div>
        <!-- SENSORTYPE -->
        
        <!-- FAVORITES -->
          <div class="row">
            <div class="col-sm">
              <div class="btn-group btn-block centered">
          
              <!-- VIEW FAVORITES -->
                <button class="btn btn-primary favorites-button" data-toggle="modal" data-target="#favoritesModal">Favorites</button>
          
              <!-- FAVORITES MODAL -->
                <div id="favoritesModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="favoritesModal" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title"><b>Favorites</b></h1>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
          
            
          
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary">Apply</button>
                      </div>
                    </div>
                  </div>
                </div>
              <!-- FAVORITES MODAL -->
          
              <!-- VIEW FAVORITES -->
          
          
              <!-- ADD FAVORITE -->
                <button id='addFavoriteButton' class="btn btn-primary save-button" data-toggle="modal" data-target="#addFavoriteModal">
                  <span class="glyphicon glyphicon-star"></span>
                </button>

              
              <!-- ADD FAVORITE MODAL -->
                <div id="addFavoriteModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="addFavoriteModal" aria-hidden="true">
                  <div class="modal-dialog modal-dialog-centered" role="document">
                    <div class="modal-content">
                      <div class="modal-header">
                        <h1 class="modal-title"><b>Add Favorite</b></h1>
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">

                        <div class="row modal-margin-bottom">
                          <div class="col-sm-12 col-offset-sm-1">
                            <div class="form-group">
                              <label for="addFavoriteInput">Enter Name</label>
                              <input id="addFavoriteInput" class="form-control" aria-describedby="enterName" placeholder="Enter Name">
                              <small id="enterName" class="form-text text-muted">Choose a name to identify your favorite later on.</small>
                            </div>
                          </div>
                        </div>

                        <div class="row modal-margin-top">
                          <div class="col-sm-12 col-offset-sm-1">
                            <div class="form-group">
                              <label for="yourFavoriteInput">Your Favorite</label>
                              <input id="yourFavoriteInput" class="form-control" aria-describedby="yourFavorite" placeholder="Your Favorite">
                              <small id="yourFavorite" class="form-text text-muted">Your Favorite</small>
                            </div>
                          </div>
                        </div>

                      </div>
                      <div class="modal-footer">
                        <button id='addFavoriteModalApplyButton' type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                        <button type="button" class="btn btn-primary">Apply</button>
                      </div>
                    </div>
                  </div>
                </div>
              <!-- ADD FAVORITE MODAL -->  

              <!-- ADD FAVORITE -->
          
              </div>
            </div>
          </div>
        <!-- FAVORITES -->
        
        </div>
      <!-- UPPER OPTIONPANEL -->
	  
      <!-- SENSORTABLE -->
        <div class="row">
          <div class="col-sm">
            <div id='sensortableContainer' class="border">
              <table id='sensortable'></table>
            </div>
          </div>
        
          <script type="text/javascript">
            var exampleJson = 
              [
                { "sensorid": "ka8941", "temperature": "21.3", "humidity": "42.1", "pollution": "0.103"},
                { "sensorid": "ber7193", "pollution": "0.205" },
                { "sensorid": "ka1294", "temperature": "24.1", "pollution": "0.101" },
                { "sensorid": "ka1734", "humidity": "25" },
                { "sensorid": "fra9376", "pollution": "0.52" },
                { "sensorid": "ka7194", "temperature": "19.5" },
                { "sensorid": "ka6519", "humidity": "9.8", "pollution": "0.205" },
                { "sensorid": "h7143", "temperature": "31.2" },
                { "sensorid": "mu1743", "pollution": "0.021" },
                { "sensorid": "ka2912", "temperature": "17.2", "pollution": "0.732" }
              ];
          
            setTableContent('#sensortable', exampleJson)
          </script>
         
        <!--
          <div id='sensortableContainer' class="border">
            <table id="sensortable">
              <tr>
                <th>Sensors in Cluster</th>
                <th>Value</th>
              </tr>
              <tr>
                <td>#ka729</td>
                <td>20.2</td>
              </tr>
              <tr>
                <td>#ber199</td>
                <td>19.4</td>
              </tr>
              <tr>
                <td>#h750</td>
                <td>17.1</td>
              </tr>
            </table> 
          </div>
        -->
        </div>
      <!-- SENSORTABLE -->
	
      </div>
    </div>
  
    <div class="row">
      <div class="col-sm-8">
	  
      <!-- SLIDER -->
        <div class="row">
          <div id='sliderContainer'>
            <input type="range" min="1" max="100" value="50" class="slider" id="myRange">
          </div>
        </div>
      <!-- SLIDER -->
	
      </div>
      <div class="col-sm-4">
	
      <!-- MIDDLE OPTIONPANEL -->
        <div id='middleOptionpanelContainer'>
          <div class="row">
            <div class="col-sm">
              <div class="btn-group btn-group-justified">
                
                <div id='startStopButtonContainer' data-toggle="buttons" class="btn-group form-group">
                  <label id='startStopButton' class="btn btn-primary">
                    <input type="checkbox"/>
                    <span class="glyphicon glyphicon-play"></span>
                  </label>
                </div>
			    
                <div id='settingsButtonContainer' class="btn-group form-group">
                  <button class="btn btn-primary" data-toggle="modal" data-target="#timeSettingsModal">Settings</button>
                </div> 
                  
                <!-- SETTINGS MODAL -->
                  <div id="timeSettingsModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="timeSettingsModal" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h1 class="modal-title"><b>Settings</b></h1>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
            
              
            
                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                          <button type="button" class="btn btn-primary">Apply</button>
                        </div>
                      </div>
                    </div>
                  </div>
                <!-- SETTINGS MODAL -->
				
                <div id='liveLoopButtonContainer' class="btn-group form-group" data-toggle="buttons">
                  <label id='liveLoopButton' class="btn btn-primary">
                    <input type="checkbox"/>
                    <span class="glyphicon glyphicon-hourglass"></span>
                  </label>
                </div>
				
            <!--
              <div class="btn-group btn-block centered">
                
                <button id='startStopButton' class="btn btn-primary">
                  <input type="checkbox" style="display:none;"/>
                  <span class="glyphicon glyphicon-play"></span>
                </button>
			    
                <button id='settingsButtonContainer' class="btn btn-primary">Settings</button>
				
                <button id='liveLoopButton' class="btn btn-primary">
                  <input type="checkbox" style="display:none;"/>
                  <span>LOOP</span>
                </button>
            -->
				
              </div>
            </div>
          </div>
        </div>
      <!-- MIDDLE OPTIONPANEL -->
	
      </div>
    </div>
	
    <div class="row">
      <div class="col-sm-12">
      
      <!-- GRAPH -->
        <div class="row">
          <div id="graphContainer">
          <!--  <iframe src="http://pavos-01.teco.edu/60080/render?from=15:24_20180718&until=15:54_20180718&target=GraphiteSenderTest.particulateMatter&title=particulate%20matter&lineMode=connected" width="100%" height="250px" frameborder="0"></iframe>  -->
          <!--  <iframe src="http://play.grafana.org/dashboard-solo/db/graph-styles?from=1486459105942&to=1486462705942&panelId=3" width="100%" height="100%" frameborder="0"></iframe> -->
          <!-- <iframe src="https://play.grafana.org/d-solo/000000012/grafana-play-home?panelId=2&orgId=1&tab=general&from=1532479086142&to=1532486286143&theme=light" width="100%" height="100%" frameborder="0"></iframe> -->
          <iframe src="http://localhost:3000/d-solo/Ex6xa3diz/test-pm?orgId=1&from=-10min&refresh=10s&panelId=3&theme=light" width="100%" height="100%" frameborder="0"></iframe>
          </div>
        </div>
      <!-- GRAPH -->
        
      </div>
    </div>
  </div>

</body>
</html>